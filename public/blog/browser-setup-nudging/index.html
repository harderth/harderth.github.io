<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Digital Nudging in Browser Setup: Why Defaults Are More Than Just Convenience | Thorleif Harder</title>
<meta name="keywords" content="Digital Nudging, UX Design, Browser Settings, Sustainabilty">
<meta name="description" content="I recently had to change my browser, which probably doesn&rsquo;t sound very exciting to many people. The Arc browser, my previous companion, has not been actively developed since May 2025. The company behind it is now focusing entirely on its new AI browser, Dia. Like many former Arc users who don&rsquo;t yet want to use an AI browser, I switched to Zen Browser, an open source project based on Firefox that has adopted Arc&rsquo;s UI almost 1-to-1. Zen is still a niche product with around 9 million downloads on GitHub, a tiny percentage compared to the billions of Chrome installations. But that&rsquo;s what makes it so interesting as a case study.">
<meta name="author" content="Thorleif Harder">
<link rel="canonical" href="http://localhost:1313/blog/browser-setup-nudging/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.6d408dfa537bf6a35f44b077d8f0961f402990b0cc586cae810bd2b325e968f7.css" integrity="sha256-bUCN&#43;lN79qNfRLB32PCWH0ApkLDMWGyugQvSsyXpaPc=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">

<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/blog/browser-setup-nudging/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Digital Nudging in Browser Setup: Why Defaults Are More Than Just Convenience" />
<meta property="og:description" content="I recently had to change my browser, which probably doesn&rsquo;t sound very exciting to many people. The Arc browser, my previous companion, has not been actively developed since May 2025. The company behind it is now focusing entirely on its new AI browser, Dia. Like many former Arc users who don&rsquo;t yet want to use an AI browser, I switched to Zen Browser, an open source project based on Firefox that has adopted Arc&rsquo;s UI almost 1-to-1. Zen is still a niche product with around 9 million downloads on GitHub, a tiny percentage compared to the billions of Chrome installations. But that&rsquo;s what makes it so interesting as a case study." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/blog/browser-setup-nudging/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2025-12-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2025-12-05T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Digital Nudging in Browser Setup: Why Defaults Are More Than Just Convenience"/>
<meta name="twitter:description" content="I recently had to change my browser, which probably doesn&rsquo;t sound very exciting to many people. The Arc browser, my previous companion, has not been actively developed since May 2025. The company behind it is now focusing entirely on its new AI browser, Dia. Like many former Arc users who don&rsquo;t yet want to use an AI browser, I switched to Zen Browser, an open source project based on Firefox that has adopted Arc&rsquo;s UI almost 1-to-1. Zen is still a niche product with around 9 million downloads on GitHub, a tiny percentage compared to the billions of Chrome installations. But that&rsquo;s what makes it so interesting as a case study."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blog",
      "item": "http://localhost:1313/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Digital Nudging in Browser Setup: Why Defaults Are More Than Just Convenience",
      "item": "http://localhost:1313/blog/browser-setup-nudging/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Digital Nudging in Browser Setup: Why Defaults Are More Than Just Convenience",
  "name": "Digital Nudging in Browser Setup: Why Defaults Are More Than Just Convenience",
  "description": "I recently had to change my browser, which probably doesn\u0026rsquo;t sound very exciting to many people. The Arc browser, my previous companion, has not been actively developed since May 2025. The company behind it is now focusing entirely on its new AI browser, Dia. Like many former Arc users who don\u0026rsquo;t yet want to use an AI browser, I switched to Zen Browser, an open source project based on Firefox that has adopted Arc\u0026rsquo;s UI almost 1-to-1. Zen is still a niche product with around 9 million downloads on GitHub, a tiny percentage compared to the billions of Chrome installations. But that\u0026rsquo;s what makes it so interesting as a case study.\n",
  "keywords": [
    "Digital Nudging", "UX Design", "Browser Settings", "Sustainabilty"
  ],
  "articleBody": "I recently had to change my browser, which probably doesn’t sound very exciting to many people. The Arc browser, my previous companion, has not been actively developed since May 2025. The company behind it is now focusing entirely on its new AI browser, Dia. Like many former Arc users who don’t yet want to use an AI browser, I switched to Zen Browser, an open source project based on Firefox that has adopted Arc’s UI almost 1-to-1. Zen is still a niche product with around 9 million downloads on GitHub, a tiny percentage compared to the billions of Chrome installations. But that’s what makes it so interesting as a case study.\nWhat got me thinking during setup was a simple detail. The selection of the default search engine. There it was, the list of available search engines. Google, of course, was preselected. Ecosia, however, was in 4th place (out of 5). And I asked myself why this order?\nAs someone who works intensively with digital nudging, I realized immediately what was happening here. The default setting is not a coincidence, but a deliberate decision.\nWhat makes defaults so powerful and why browsers are special Defaults are among the most powerful nudges of all. Research shows consistently that most people stick with the default, a behavior known as status quo bias. We choose the path of least resistance. Thaler and Sunstein (2008) have described impressively in Nudge how default options influence our behavior in areas such as retirement planning or organ donation. Johnson and Goldstein (2003) showed that countries with opt-out regulations have significantly higher approval rates for organ donation than countries with opt-in.\nThe same mechanism applies to the browser setup. The pre-selected search engine is never changed by the large majority of users. Those who set Google as their default search engine know this very well and are also aware of its advantages.\nBut this is where the real leverage lies, because browsers are universal - practically everyone who uses the internet uses a browser and goes through a setup process at some point. That’s not just millions, that’s billions of decision moments. A default in a popular browser is not a niche issue, but a lever with global impact.\nEcosia, the search engine from Berlin, has so far planted over 231 million trees in more than 35 countries. The company invests 100% of its profits in climate protection. If Ecosia were as big as Google, it could bind 15% of global CO₂ emissions, according to its own calculations.\nIn this case, a thought experiment comes to mind. What if browser manufacturers didn’t put Ecosia in 4th place, but as the default? From a nudging perspective, this would be an elegant intervention with the same mechanism but a positive social outcome. An example of what Thaler and Sunstein call libertarian paternalism. Freedom of choice is fully preserved, but the architecture favors a socially desirable option.\nHow simple the change would be Of course, this raises ethical questions. Who decides which defaults are “good”? Does a positive purpose legitimize the influence? Defaults are never neutral. Every pre-selected option implicitly carries a recommendation. The question is not whether we influence people through choice architecture (we inevitably do). The question is how transparent we are about it and which values flow into these architectures.\nTo show how minimal the intervention would be, I created a before-and-after mockup.\nAbbildung 1: Left: Current state with Google as default. Right: Ecosia as default. The technical effort? Two lines of code to change the order and set the default. The impact? Millions of users planting trees by simply taking the path of least resistance.\nThis is what’s fascinating about nudging. The difference appears subtle. Ecosia would be in first position and pre-selected, plus a small “Recommended” label. Google, DuckDuckGo and Bing would still be just one click away. But the default would make a statement. The small info box that appears when Ecosia is selected gives users a concrete reason to stick with this choice, without being preachy. This is another nudge that increases the salience of positive consequences without manipulating the decision.\nThe lever that browser companies hold Browser manufacturers may underestimate the influence they have on collective behavior. A browser is not a neutral tool; it’s a platform that frames billions of interactions daily. Every default, every order in a list, every pre-selected checkbox is a decision that someone makes for billions of people. If a browser with 100 million users sets a sustainable search engine as the default and the majority sticks with it, a measurable ecological impact emerges without people having to actively change anything.\nBrowser manufacturers could take a pioneering role here. Not through coercion, but through deliberate design of choice architecture. Users can switch to Google at any time, but the default would make a statement. And that’s exactly the core of nudging. Not patronizing people, but designing the decision environment so that the better choice is also the easier one.\nReferenzen Thaler, R. H., \u0026 Sunstein, C. R. (2008). Nudge: Improving decisions about health, wealth, and happiness. Yale University Press.\nJohnson, E. J., \u0026 Goldstein, D. (2003). Do defaults save lives? Science, 302(5649), 1338-1339.\nEcosia (2025). Finanzberichte und Transparenz. https://www.ecosia.org ",
  "wordCount" : "871",
  "inLanguage": "en",
  "datePublished": "2025-12-05T00:00:00Z",
  "dateModified": "2025-12-05T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Thorleif Harder"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/blog/browser-setup-nudging/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Thorleif Harder",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: "\\begin{equation}", right: "\\end{equation}", display: true},
            {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
            {left: "\\begin{align}", right: "\\end{align}", display: true},
            {left: "\\begin{align*}", right: "\\end{align*}", display: true},
            {left: "\\begin{alignat}", right: "\\end{alignat}", display: true},
            {left: "\\begin{gather}", right: "\\end{gather}", display: true},
            {left: "\\begin{CD}", right: "\\end{CD}", display: true},
          ],
          
          throwOnError : false
        });
    });
</script>
 


</head>

<body class="" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Thorleif Harder">
             
                <img src="http://localhost:1313/favicon.ico" alt="" aria-label="logo"
                    height="18"
                    width="18">Thorleif Harder</a>
            <div class="logo-switches">
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/publications/" title="Publications">
                    <span>Publications</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about-me/" title="About me">
                    <span>About me</span>
                </a>
            </li>
        </ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Digital Nudging in Browser Setup: Why Defaults Are More Than Just Convenience
    </h1>
    <div class="post-meta">&lt;span title=&#39;2025-12-05 00:00:00 &#43;0000 UTC&#39;&gt;December 2025&lt;/span&gt;&amp;nbsp;&amp;middot;&amp;nbsp;Thorleif Harder

</div>
  </header> 
  <div class="post-content"><p>I recently had to change my browser, which probably doesn&rsquo;t sound very exciting to many people. The Arc browser, my previous companion, has not been actively developed since May 2025. The company behind it is now focusing entirely on its new AI browser, Dia. Like many former Arc users who don&rsquo;t yet want to use an AI browser, I switched to Zen Browser, an open source project based on Firefox that has adopted Arc&rsquo;s UI almost 1-to-1. Zen is still a niche product with around 9 million downloads on GitHub, a tiny percentage compared to the billions of Chrome installations. But that&rsquo;s what makes it so interesting as a case study.</p>
<p>What got me thinking during setup was a simple detail. The selection of the default search engine. There it was, the list of available search engines. Google, of course, was preselected. Ecosia, however, was in 4th place (out of 5). And I asked myself why this order?</p>
<p>As someone who works intensively with digital nudging, I realized immediately what was happening here. The default setting is not a coincidence, but a deliberate decision.</p>
<h2 id="what-makes-defaults-so-powerful-and-why-browsers-are-special">What makes defaults so powerful and why browsers are special<a hidden class="anchor" aria-hidden="true" href="#what-makes-defaults-so-powerful-and-why-browsers-are-special">#</a></h2>
<p>Defaults are among the most powerful nudges of all. Research shows consistently that most people stick with the default, a behavior known as status quo bias. We choose the path of least resistance. Thaler and Sunstein (2008) have described impressively in Nudge how default options influence our behavior in areas such as retirement planning or organ donation. Johnson and Goldstein (2003) showed that countries with opt-out regulations have significantly higher approval rates for organ donation than countries with opt-in.</p>
<p>The same mechanism applies to the browser setup. The pre-selected search engine is never changed by the large majority of users. Those who set Google as their default search engine know this very well and are also aware of its advantages.</p>
<p>But this is where the real leverage lies, because browsers are universal - practically everyone who uses the internet uses a browser and goes through a setup process at some point. That&rsquo;s not just millions, that&rsquo;s billions of decision moments. A default in a popular browser is not a niche issue, but a lever with global impact.</p>
<p>Ecosia, the search engine from Berlin, has so far planted over 231 million trees in more than 35 countries. The company invests 100% of its profits in climate protection. If Ecosia were as big as Google, it could bind 15% of global CO₂ emissions, according to its own calculations.</p>
<p>In this case, a thought experiment comes to mind. What if browser manufacturers didn&rsquo;t put Ecosia in 4th place, but as the default? From a nudging perspective, this would be an elegant intervention with the same mechanism but a positive social outcome. An example of what Thaler and Sunstein call libertarian paternalism. Freedom of choice is fully preserved, but the architecture favors a socially desirable option.</p>
<h2 id="how-simple-the-change-would-be">How simple the change would be<a hidden class="anchor" aria-hidden="true" href="#how-simple-the-change-would-be">#</a></h2>
<p>Of course, this raises ethical questions. Who decides which defaults are &ldquo;good&rdquo;? Does a positive purpose legitimize the influence? Defaults are never neutral. Every pre-selected option implicitly carries a recommendation. The question is not whether we influence people through choice architecture (we inevitably do). The question is how transparent we are about it and which values flow into these architectures.</p>
<p>To show how minimal the intervention would be, I created a before-and-after mockup.</p>
<h4 id="abbildung-1-left-current-state-with-google-as-default-right-ecosia-as-default">Abbildung 1: Left: Current state with Google as default. Right: Ecosia as default.<a hidden class="anchor" aria-hidden="true" href="#abbildung-1-left-current-state-with-google-as-default-right-ecosia-as-default">#</a></h4>
<p><img loading="lazy" src="Zen-browser.jpg" alt=""  />
</p>
<p>The technical effort? Two lines of code to change the order and set the default. The impact? Millions of users planting trees by simply taking the path of least resistance.</p>
<p>This is what&rsquo;s fascinating about nudging. The difference appears subtle. Ecosia would be in first position and pre-selected, plus a small &ldquo;Recommended&rdquo; label. Google, DuckDuckGo and Bing would still be just one click away. But the default would make a statement. The small info box that appears when Ecosia is selected gives users a concrete reason to stick with this choice, without being preachy. This is another nudge that increases the salience of positive consequences without manipulating the decision.</p>
<h2 id="the-lever-that-browser-companies-hold">The lever that browser companies hold<a hidden class="anchor" aria-hidden="true" href="#the-lever-that-browser-companies-hold">#</a></h2>
<p>Browser manufacturers may underestimate the influence they have on collective behavior. A browser is not a neutral tool; it&rsquo;s a platform that frames billions of interactions daily. Every default, every order in a list, every pre-selected checkbox is a decision that someone makes for billions of people. If a browser with 100 million users sets a sustainable search engine as the default and the majority sticks with it, a measurable ecological impact emerges without people having to actively change anything.</p>
<p>Browser manufacturers could take a pioneering role here. Not through coercion, but through deliberate design of choice architecture. Users can switch to Google at any time, but the default would make a statement. And that&rsquo;s exactly the core of nudging. Not patronizing people, but designing the decision environment so that the better choice is also the easier one.</p>
<h2 id="referenzen">Referenzen<a hidden class="anchor" aria-hidden="true" href="#referenzen">#</a></h2>
<p>Thaler, R. H., &amp; Sunstein, C. R. (2008). <em>Nudge: Improving decisions about health, wealth, and happiness.</em> Yale University Press.</p>
<p>Johnson, E. J., &amp; Goldstein, D. (2003). Do defaults save lives? <em>Science, 302</em>(5649), 1338-1339.</p>
<p>Ecosia (2025). Finanzberichte und Transparenz. <a href="https://www.ecosia.org" target="_blank">https://www.ecosia.org</a>
</p>


  </div><div class="author-banner">
  <img class="author-banner__avatar" src="/author.jpg" alt="Thorleif Harder" />
  <div class="author-banner__info">
    <a class="author-banner__name" href="/">Thorleif Harder</a>
    <p class="author-banner__bio">Research Associate @ TH Lübeck<br>PhD Candidate @ Uni Lübeck</p>
    <div class="author-banner__social">
      <a href="mailto:thorleif.harder@th-luebeck.de" target="_blank" rel="noopener noreferrer me" title="Email">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
    <polyline points="22,6 12,13 2,6"></polyline>
</svg>
      </a>
      <a href="https://scholar.google.com/citations?user=7dkt0CcAAAAJ&amp;hl=en" target="_blank" rel="noopener noreferrer me" title="Google Scholar">
        <svg viewBox="0 0 24 25" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
     stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
     <path
         d="M5.242 13.769L0.5 9.5 12 1l11.5 9-5.242 3.769C17.548 11.249 14.978 9.5 12 9.5c-2.977 0-5.548 1.748-6.758 4.269zM12 10a7 7 0 1 0 0 14 7 7 0 0 0 0-14z" />
 </svg>
      </a>
      <a href="https://orcid.org/0000-0002-9099-2351" target="_blank" rel="noopener noreferrer me" title="Orcid">
        <svg width="24" height="24" viewBox="0 0 256 256" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd"
        d="M128 256C198.7 256 256 198.7 256 128C256 57.3 198.7 0 128 0C57.3 0 0 57.3 0 128C0 198.7 57.3 256 128 256ZM70.9 186.2H86.3V127.5V79.0999H70.9V186.2ZM108.9 79.0999H150.5C190.1 79.0999 207.5 107.4 207.5 132.7C207.5 160.2 186 186.3 150.7 186.3H108.9V79.0999ZM124.3 172.4H148.8C183.7 172.4 191.7 145.9 191.7 132.7C191.7 111.2 178 93 148 93H124.3V172.4ZM78.6 66.8999C84.2 66.8999 88.7 62.2999 88.7 56.7999C88.7 51.2999 84.2 46.7 78.6 46.7C73 46.7 68.5 51.2 68.5 56.7999C68.5 62.2999 73 66.8999 78.6 66.8999Z"
        fill="currentColor" />
</svg>
      </a>
      <a href="https://twitter.com/thorleifharder" target="_blank" rel="noopener noreferrer me" title="Twitter">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
    </path>
</svg>
      </a>
      <a href="https://www.linkedin.com/in/thorleif-harder-8981a2193/" target="_blank" rel="noopener noreferrer me" title="Linkedin">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
    <rect x="2" y="9" width="4" height="12"></rect>
    <circle cx="4" cy="4" r="2"></circle>
</svg>
      </a>
    </div>
  </div>
</div>


  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/digital-nudging/">Digital Nudging</a></li>
      <li><a href="http://localhost:1313/tags/ux-design/">UX Design</a></li>
      <li><a href="http://localhost:1313/tags/browser-settings/">Browser Settings</a></li>
      <li><a href="http://localhost:1313/tags/sustainabilty/">Sustainabilty</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    &copy; 2026 Thorleif Harder
    <span>
    &middot;  Powered by 
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/pmichaillat/hugo-website/" rel="noopener" target="_blank">a modified version</a>
         of 
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>
</html>
